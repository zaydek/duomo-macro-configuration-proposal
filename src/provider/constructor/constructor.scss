@use "sass:map";

@use "map-constructor" as *;
@use "range-constructor" as *;

@function to-list($opts) {
	// prettier-ignore
	$ok: if(
		type-of($opts) == "map",
		($opts,),
		$opts,
	);
	@return $ok;
}

@mixin constructor($opts) {
	@each $opt in to-list($opts) {
		$range-based: map.get($opt, range);
		@if $range-based {
			@include range-based($opt);
		}
		$map-based: map.get($opt, map);
		@if $map-based {
			@include map-constructor($opt);
		}
	}
}
